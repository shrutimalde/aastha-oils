<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aastha Oils Order Form</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
    <script src="https://unpkg.com/jspdf@latest/dist/jspdf.umd.min.js"></script>
    <script src="https://unpkg.com/jspdf-autotable@3.5.25/dist/jspdf.plugin.autotable.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0 auto;
            padding: 20px;
        }

        .w-100 {
            width: 100px !important;
        }
    </style>
</head>

<body>
    <div class="container">
        <h1>AASTHA OILS ORDER FORM</h1>
        <form id="orderForm">
            <div class="row mt-5">
                <div class="col-md-6 col-sm-12">
                    <div class="form-floating mb-3">
                        <input type="text" class="form-control" id="partyName">
                        <label for="partyName"> Party Name</label>
                    </div>
                </div>
                <div class="col-md-6 col-sm-12">
                    <div class="form-floating mb-3">
                        <input type="date" class="form-control" id="orderDate">
                        <label for="orderDate"> Order Date</label>
                    </div>
                </div>
            </div>
            <div class="row mt-3">
                <div class="col-md-6 col-sm-12">
                    <table class="table">
                        <thead>
                            <tr>
                                <th colspan="3">Gagandip Oil</th>
                            </tr>
                            <tr>
                                <th>ML</th>
                                <th>Boxes</th>
                                <th>Free</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <th scope="row" class="align-middle">900</th>
                                <td><input type="number" class="form-control w-100" id="gagandipOil900Box">
                                </td>
                                <td><input type="number" class="form-control w-100" id="gagandipOil900Free">
                                </td>
                            </tr>
                            <tr>
                                <th scope="row" class="align-middle">800</th>
                                <td><input type="number" class="form-control w-100" id="gagandipOil800Box">
                                </td>
                                <td><input type="number" class="form-control w-100" id="gagandipOil800Free">
                                </td>
                            </tr>
                            <tr>
                                <th scope="row" class="align-middle">450</th>
                                <td><input type="number" class="form-control w-100" id="gagandipOil450Box">
                                </td>
                                <td><input type="number" class="form-control w-100" id="gagandipOil450Free">
                                </td>
                            </tr>
                            <tr>
                                <th scope="row" class="align-middle">200</th>
                                <td><input type="number" class="form-control w-100" id="gagandipOil200Box">
                                </td>
                                <td><input type="number" class="form-control w-100" id="gagandipOil200Free">
                                </td>
                            </tr>
                            <tr>
                                <th scope="row" class="align-middle">150</th>
                                <td><input type="number" class="form-control w-100" id="gagandipOil150Box">
                                </td>
                                <td><input type="number" class="form-control w-100" id="gagandipOil150Free">
                                </td>
                            </tr>
                            <tr>
                                <th scope="row" class="align-middle">100</th>
                                <td><input type="number" class="form-control w-100" id="gagandipOil100Box">
                                </td>
                                <td><input type="number" class="form-control w-100" id="gagandipOil100Free">
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="row mt-3">
                <div class="col-md-6 col-sm-12">
                    <table class="table">
                        <thead>
                            <tr>
                                <th colspan="3">Gagandip Ghee</th>
                            </tr>
                            <tr>
                                <th>ML</th>
                                <th>Boxes</th>
                                <th>Free</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <th scope="row" class="align-middle">1000</th>
                                <td><input type="number" class="form-control w-100" id="gagandipGhee1000Box">
                                </td>
                                <td><input type="number" class="form-control w-100" id="gagandipGhee1000Free">
                                </td>
                            </tr>
                            <tr>
                                <th scope="row" class="align-middle">500</th>
                                <td><input type="number" class="form-control w-100" id="gagandipGhee500Box">
                                </td>
                                <td><input type="number" class="form-control w-100" id="gagandipGhee500Free">
                                </td>
                            </tr>
                            <tr>
                                <th scope="row" class="align-middle">200</th>
                                <td><input type="number" class="form-control w-100" id="gagandipGhee200Box">
                                </td>
                                <td><input type="number" class="form-control w-100" id="gagandipGhee200Free">
                                </td>
                            </tr>
                            <tr>
                                <th scope="row" class="align-middle">100</th>
                                <td><input type="number" class="form-control w-100" id="gagandipGhee100Box">
                                </td>
                                <td><input type="number" class="form-control w-100" id="gagandipGhee100Free">
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="row mt-3">
                <div class="col-md-6 col-sm-12">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Gagandip Soap (DZN - PCS)</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><input type="number" class="form-control w-100" id="gagandipSoap">
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="row mt-3">
                <div class="col-md-6 col-sm-12">
                    <table class="table">
                        <thead>
                            <tr>
                                <th colspan="3">Pushpadip Oil</th>
                            </tr>
                            <tr>
                                <th>ML</th>
                                <th>Boxes</th>
                                <th>Free</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <th scope="row" class="align-middle">900</th>
                                <td><input type="number" class="form-control w-100" id="pushpadipOil900Box">
                                </td>
                                <td><input type="number" class="form-control w-100" id="pushpadipOil900Free">
                                </td>
                            </tr>
                            <tr>
                                <th scope="row" class="align-middle">800</th>
                                <td><input type="number" class="form-control w-100" id="pushpadipOil800Box">
                                </td>
                                <td><input type="number" class="form-control w-100" id="pushpadipOil800Free">
                                </td>
                            </tr>
                            <tr>
                                <th scope="row" class="align-middle">450</th>
                                <td><input type="number" class="form-control w-100" id="pushpadipOil450Box">
                                </td>
                                <td><input type="number" class="form-control w-100" id="pushpadipOil450Free">
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <button type="submit" class="btn btn-primary">Generate PDF</button>
        </form>
    </div>
    <script>
        document.getElementById('orderDate').valueAsDate = new Date();
        document.getElementById('orderForm').addEventListener('submit', function (e) {
            e.preventDefault();
            const partyName = document.getElementById('partyName').value;
            const orderDate = document.getElementById('orderDate').value;

            const gagandipOilData = [
                { ml: 900, boxes: document.getElementById('gagandipOil900Box').value, free: document.getElementById('gagandipOil900Free').value },
                { ml: 800, boxes: document.getElementById('gagandipOil800Box').value, free: document.getElementById('gagandipOil800Free').value },
                { ml: 450, boxes: document.getElementById('gagandipOil450Box').value, free: document.getElementById('gagandipOil450Free').value },
                { ml: 200, boxes: document.getElementById('gagandipOil200Box').value, free: document.getElementById('gagandipOil200Free').value },
                { ml: 150, boxes: document.getElementById('gagandipOil150Box').value, free: document.getElementById('gagandipOil150Free').value },
                { ml: 100, boxes: document.getElementById('gagandipOil100Box').value, free: document.getElementById('gagandipOil100Free').value }
            ];

            const gagandipGheeData = [
                { ml: 1000, boxes: document.getElementById('gagandipGhee1000Box').value, free: document.getElementById('gagandipGhee1000Free').value },
                { ml: 500, boxes: document.getElementById('gagandipGhee500Box').value, free: document.getElementById('gagandipGhee500Free').value },
                { ml: 200, boxes: document.getElementById('gagandipGhee200Box').value, free: document.getElementById('gagandipGhee200Free').value },
                { ml: 100, boxes: document.getElementById('gagandipGhee100Box').value, free: document.getElementById('gagandipGhee100Free').value }
            ];

            const gagandipSoap = document.getElementById('gagandipSoap').value;

            const pushpadipOilData = [
                { ml: 900, boxes: document.getElementById('pushpadipOil900Box').value, free: document.getElementById('pushpadipOil900Free').value },
                { ml: 800, boxes: document.getElementById('pushpadipOil800Box').value, free: document.getElementById('pushpadipOil800Free').value },
                { ml: 450, boxes: document.getElementById('pushpadipOil450Box').value, free: document.getElementById('pushpadipOil450Free').value },
            ];

            const { jsPDF } = window.jspdf;
            const doc = new jsPDF();

            // Add title
            doc.setFontSize(18);
            doc.text('Aastha Oils Order Form', 14, 15);

            // Add party name and order date
            doc.setFontSize(12);
            doc.text(`Party Name: ${partyName}`, 14, 25);
            doc.text(`Order Date: ${orderDate}`, 14, 32);

            // Function to calculate totals
            function calculateTotals(data) {
                return data.reduce((acc, row) => {
                    acc.boxes += parseInt(row.boxes) || 0;
                    acc.free += parseInt(row.free) || 0;
                    return acc;
                }, { boxes: 0, free: 0 });
            }

            // Add Gagandip Oil table
            const gagandipOilTotals = calculateTotals(gagandipOilData);
            doc.setFontSize(14);
            doc.text('Gagandip Oil', 14, 40);
            doc.autoTable({
                head: [['ML', 'Boxes', 'Free']],
                body: [
                    ...gagandipOilData.map(row => [row.ml, row.boxes, row.free]),
                ],
                startY: 45,
                headStyles: { fillColor: [41, 128, 185], textColor: 255 },
                bodyStyles: { textColor: 0 },
                theme: 'grid',
                tableLineColor: [0, 0, 0],
                tableLineWidth: 0.1,
                foot: [['Total', gagandipOilTotals.boxes, gagandipOilTotals.free]],
                footStyles: { fillColor: [220, 220, 220], textColor: 0, fontStyle: 'bold' }
            });

            // Add Gagandip Ghee table
            const gagandipGheeTotals = calculateTotals(gagandipGheeData);
            const gheeTableY = doc.lastAutoTable.finalY + 15;
            doc.setFontSize(14);
            doc.text('Gagandip Ghee', 14, gheeTableY - 5);
            doc.autoTable({
                head: [['ML', 'Boxes', 'Free']],
                body: [
                    ...gagandipGheeData.map(row => [row.ml, row.boxes, row.free]),
                ],
                startY: gheeTableY,
                headStyles: { fillColor: [41, 128, 185], textColor: 255 },
                bodyStyles: { textColor: 0 },
                theme: 'grid',
                tableLineColor: [0, 0, 0],
                tableLineWidth: 0.1,
                foot: [['Total', gagandipGheeTotals.boxes, gagandipGheeTotals.free]],
                footStyles: { fillColor: [220, 220, 220], textColor: 0, fontStyle: 'bold' }
            });

            // Add Gagandip Soap
            const soapY = doc.lastAutoTable.finalY + 15;
            doc.setFontSize(14);
            doc.text('Gagandip Soap', 14, soapY - 5);
            doc.autoTable({
                head: [['Gagandip Soap (DZN - PCS)']],
                body: [[gagandipSoap]],
                startY: soapY,
                headStyles: { fillColor: [41, 128, 185], textColor: 255 },
                bodyStyles: { textColor: 0 },
                theme: 'grid',
                tableLineColor: [0, 0, 0],
                tableLineWidth: 0.1
            });

            //Add Pushpadip Oil
            const pushpadipOilTotals = calculateTotals(pushpadipOilData);
            const pushpadipOilY = doc.lastAutoTable.finalY + 15;
            doc.setFontSize(14);
            doc.text('Pushpadip Oil', 14, pushpadipOilY - 5);
            doc.autoTable({
                head: [['ML', 'Boxes', 'Free']],
                body: [
                    ...pushpadipOilData.map(row => [row.ml, row.boxes, row.free]),
                ],
                startY: pushpadipOilY,
                headStyles: { fillColor: [41, 128, 185], textColor: 255 },
                bodyStyles: { textColor: 0 },
                theme: 'grid',
                tableLineColor: [0, 0, 0],
                tableLineWidth: 0.1,
                foot: [['Total', pushpadipOilTotals.boxes, pushpadipOilTotals.free]],
                footStyles: { fillColor: [220, 220, 220], textColor: 0, fontStyle: 'bold' }
            });

            doc.save(`${partyName} - ${orderDate}.pdf`);
        });
    </script>
</body>

</html>